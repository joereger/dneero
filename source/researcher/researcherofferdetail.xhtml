<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:d="http://dneero.com/taglib">

<ui:composition template="/template/template-facelets.xhtml">
    <ui:define name="body">
    <d:authorization acl="researcher" redirectonfail="true"/>

<h:form>
    <h:messages />
    <h:inputHidden name="offerid" value="#{offerBackingBean.offerid}" />
    <h:panelGrid columns="3" cellpadding="3" border="0">

        <h:panelGroup>
            <h:outputText value="Offer Title"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:inputText value="#{offerBackingBean.title}" id="title" required="true">
                <f:validateLength minimum="3" maximum="255"></f:validateLength>
            </h:inputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="title" styleClass="RED"></h:message>
        </h:panelGroup>

        <h:panelGroup>
            <h:outputText value="Offer Id"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:outputText value="#{offerBackingBean.offerid}"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
        </h:panelGroup>

        <h:panelGroup>
            <h:outputText value="Description"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:inputTextarea value="#{offerBackingBean.description}" id="description" required="true">
                <f:validateLength minimum="3" maximum="50000"></f:validateLength>
            </h:inputTextarea>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="description" styleClass="RED"></h:message>
        </h:panelGroup>


        <h:panelGroup>
            <h:outputText value="Offer Body"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:inputTextarea value="#{offerBackingBean.offerbody}" id="offerbody" required="true" cols="45" rows="10">
                <f:validateLength minimum="3" maximum="50000"></f:validateLength>
            </h:inputTextarea>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="offerbody" styleClass="RED"></h:message>
        </h:panelGroup>


        <h:panelGroup>
            <h:outputText value="Willing to Pay Per Respondent"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:inputText value="#{offerBackingBean.willingtopayperrespondent}" id="willingtopayperrespondent" required="true">
                <f:validateDoubleRange minimum="0" maximum="10000"></f:validateDoubleRange>
            </h:inputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="willingtopayperrespondent" styleClass="RED"></h:message>
        </h:panelGroup>


        <h:panelGroup>
            <h:outputText value="Number of Respondents Requested"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:inputText value="#{offerBackingBean.numberofrespondentsrequested}" id="numberofrespondentsrequested" required="true">
                <f:validateDoubleRange minimum="100" maximum="10000000"></f:validateDoubleRange>
            </h:inputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="numberofrespondentsrequested" styleClass="RED"></h:message>
        </h:panelGroup>


        <h:panelGroup>
            <h:outputText value="Start Date"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <t:inputDate value="#{offerBackingBean.startdate}"  type="both" popupCalendar="true" id="startdate" required="true"></t:inputDate>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="startdate" styleClass="RED"></h:message>
        </h:panelGroup>


        <h:panelGroup>
            <h:outputText value="End Date"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <t:inputDate value="#{offerBackingBean.enddate}" type="both" popupCalendar="true" id="enddate" required="true"></t:inputDate>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="enddate" styleClass="RED"></h:message>
        </h:panelGroup>



        <h:panelGroup>
            <h:outputText value="Age"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:inputText value="#{offerBackingBean.agemin}" id="agemin" required="true">
                <f:validateDoubleRange minimum="1" maximum="120"></f:validateDoubleRange>
            </h:inputText>
            <h:outputText value=" - "></h:outputText>
            <h:inputText value="#{offerBackingBean.agemax}" id="agemax" required="true">
                <f:validateDoubleRange minimum="1" maximum="120"></f:validateDoubleRange>
            </h:inputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="agemin" styleClass="RED"></h:message>
            <h:message for="agemax" styleClass="RED"></h:message>
        </h:panelGroup>




        <h:panelGroup>
            <h:outputText value="Gender"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:selectManyCheckbox value="#{offerBackingBean.gender}" id="gender" required="true">
                <f:selectItems value="#{genders}"/>
            </h:selectManyCheckbox>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="gender" styleClass="RED"></h:message>
        </h:panelGroup>


        <h:panelGroup>
            <h:outputText value="Ethnicity"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:selectManyCheckbox value="#{offerBackingBean.ethnicity}" id="ethnicity" layout="pageDirection" required="true">
                <f:selectItems value="#{ethnicities}"/>
            </h:selectManyCheckbox>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="ethnicity" styleClass="RED"></h:message>
        </h:panelGroup>

        <h:panelGroup>
            <h:outputText value="Marital Status"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:selectManyCheckbox value="#{offerBackingBean.maritalstatus}" id="maritalstatus" required="true">
                <f:selectItems value="#{maritalstatuses}"/>
            </h:selectManyCheckbox>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="maritalstatus" styleClass="RED"></h:message>
        </h:panelGroup>

        <h:panelGroup>
            <h:outputText value="Income"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:selectManyCheckbox value="#{offerBackingBean.income}" id="income" layout="pageDirection" required="true">
                <f:selectItems value="#{incomes}"/>
            </h:selectManyCheckbox>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="income" styleClass="RED"></h:message>
        </h:panelGroup>

        <h:panelGroup>
            <h:outputText value="Education"></h:outputText>
        </h:panelGroup>
        <h:panelGroup>
            <h:selectManyCheckbox value="#{offerBackingBean.educationlevel}" id="educationlevel" layout="pageDirection" required="true">
                <f:selectItems value="#{educationlevels}"/>
            </h:selectManyCheckbox>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="educationlevel" styleClass="RED"></h:message>
        </h:panelGroup>




        <h:panelGroup>
            <h:commandButton action="#{offerBackingBean.saveOffer}" value="Save Offer">

            </h:commandButton>
        </h:panelGroup>
        <h:panelGroup>
        </h:panelGroup>
        <h:panelGroup>
        </h:panelGroup>

    </h:panelGrid>
</h:form>

</ui:define>


</ui:composition>
</html>