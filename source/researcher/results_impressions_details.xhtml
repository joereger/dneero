<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:d="http://dneero.com/taglib"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">

<ui:composition template="/template/template-facelets.xhtml">
    <ui:define name="title">Survey Results<br/><br/></ui:define>
    <ui:param name="navtab" value="researchers"/>
    <ui:define name="body">
    <d:authorization acl="researcher" redirectonfail="true"/>

<h:form>

    <div class="rounded" style="background: #e6e6e6; text-align: center; padding: 15px;">
        <font class="largefont">#{researcherResults.survey.title}</font>
        <br/>
        <h:commandLink value="Results Main" action="researcherresults" styleClass="subnavfont" style="padding-left: 15px;"/>
        <h:commandLink value="Response Report" action="researcherresultsanswers" styleClass="subnavfont" style="padding-left: 15px;"/>
        <h:commandLink value="Impressions" action="researcherresultsimpressions" styleClass="subnavfont" style="padding-left: 15px;"/>
        <h:commandLink value="Respondents" action="researcherresultsrespondents" styleClass="subnavfont" style="padding-left: 15px;"/>
        <h:commandLink value="Financial Status" action="researcherresultsfinancial" styleClass="subnavfont" style="padding-left: 15px;"/>
    </div>
    <br/><br/>
    <font class="mediumfont" style="color: #666666;">Impressions on: #{researcherResultsImpressionsDetails.impression.referer}</font>
    <br/><br/>
    <center><div class="rounded" style="background: #F2FFBF; text-align: left; padding: 20px;"><font class="smallfont">
    <img src="/images/lightbulb_on.png" alt="" align="right"/>
    On this page you see a list of dates/times and ip addresses when a blog reader viewed your survey on the blog at #{researcherResultsImpressionsDetails.impression.referer}.  When you created the survey you specified the maximum number of impressions per blog and maximum number of impressions overall... when these limits have been met per blog or overall then we will automatically set Qualifies for Payment to No, meaning that you didn't pay the blogger for that impression.
    <br/><br/><br/>
    </font></div></center>


    <br/><br/>

<t:saveState id="save" value="#{researcherResultsImpressionsDetails}"/>
<rich:datascroller for="datatable" maxPages="5"/>
<rich:dataTable id="datatable" value="#{researcherResultsImpressionsDetails.list}" width="100%" rows="10" var="listitem">
      <h:column>
        <f:facet name="header">
          <h:outputText value="Date"/>
        </f:facet>
        <h:outputText value="#{listitem.impressiondate}" styleClass="tinyfont"><f:convertDateTime type="both" dateStyle="short" timeStyle="medium"/></h:outputText>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="Ip Address"/>
        </f:facet>
        <h:outputText value="#{listitem.ip}" styleClass="tinyfont"/>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="Qualifies for Payment?"/>
        </f:facet>
        <h:outputText value="Pending Review" styleClass="tinyfont" rendered="${listitem.qualifiesforpaymentstatus eq -1}"/>
        <h:outputText value="No" styleClass="tinyfont" rendered="${listitem.qualifiesforpaymentstatus eq 0}"/>
        <h:outputText value="Yes" styleClass="tinyfont" rendered="${listitem.qualifiesforpaymentstatus eq 1}"/>
      </h:column>
  </rich:dataTable>

    
</h:form>

</ui:define>


</ui:composition>
</html>