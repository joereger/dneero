<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:af="http://xmlns.oracle.com/adf/faces"
      xmlns:d="http://dneero.com/taglib">

<ui:composition template="/template/template-facelets.xhtml">
    <ui:define name="title">Support Issues</ui:define>
    <ui:define name="body">
    <d:authorization acl="account" redirectonfail="true"/>


    <h:form>
            <af:table value="#{accountSupportIssuesList.supportissues}" bandingInterval="2" rows="15" banding="row" var="supportissue" rendered="#{!empty accountSupportIssuesList.supportissues}">
              <af:column>
                <f:facet name="header">
                  <af:outputText value="Id"/>
                </f:facet>
                <af:outputText value="#{supportissue.supportissueid}"/>
              </af:column>
              <af:column>
                <f:facet name="header">
                  <af:outputText value="Date"/>
                </f:facet>
                <af:outputText value="#{supportissue.datetime}"/>
              </af:column>
              <af:column>
                <f:facet name="header">
                  <af:outputText value=" "/>
                </f:facet>
                <h:commandLink action="#{accountSupportIssueDetail.beginView}">
                    <h:outputText value="#{supportissue.subject}" escape="false" />
                    <f:param name="supportissueid" value="#{supportissue.supportissueid}" />
                </h:commandLink>
              </af:column>
              <af:column>
                <f:facet name="header">
                  <af:outputText value="Status"/>
                </f:facet>
                <af:outputText value="Open" rendered="#{supportissue.status==0}"/>
                <af:outputText value="Working" rendered="#{supportissue.status==1}"/>
                <af:outputText value="Closed" rendered="#{supportissue.status==2}"/>
              </af:column>


            </af:table>
        </h:form>
        <h:form>

            <d:roundedCornerBox uniqueboxname="newsupportissue" bodycolor="ffffff" widthinpixels="500">
            <font class="mediumfont">Create a New Support Issue</font>
            <br/>
            <font class="smallfont">Use this form to ask us anything at all about your account.  Report bugs.  Tell us where you're confused.  Tell us what could be better.  All communications will be archived and tracked for you here in the support section.</font>
            <br/>
            <h:messages />
            <h:panelGrid columns="3" cellpadding="3" border="0">

                <h:panelGroup>
                    <h:outputText value="Subject" styleClass="formfieldnamefont"></h:outputText>
                </h:panelGroup>
                <h:panelGroup>
                    <h:inputText value="#{accountNewSupportIssue.subject}" id="subject" required="true">
                        <f:validateLength minimum="3" maximum="255"></f:validateLength>
                    </h:inputText>
                </h:panelGroup>
                <h:panelGroup>
                    <h:message for="subject" styleClass="RED"></h:message>
                </h:panelGroup>


                <h:panelGroup>
                    <h:outputText value="Issue Description" styleClass="formfieldnamefont"></h:outputText>
                </h:panelGroup>
                <h:panelGroup>
                    <h:inputTextarea value="#{accountNewSupportIssue.notes}" id="notes" required="true" cols="45" rows="10">
                    <f:validateLength minimum="3" maximum="50000"></f:validateLength>
                </h:inputTextarea>
                </h:panelGroup>
                <h:panelGroup>
                    <h:message for="notes" styleClass="RED"></h:message>
                </h:panelGroup>

                <h:panelGroup>
                </h:panelGroup>
                <h:panelGroup>
                    <h:commandButton action="#{accountNewSupportIssue.newIssue}" value="Create a New Support Issue"></h:commandButton>
                </h:panelGroup>
                <h:panelGroup>
                </h:panelGroup>

            </h:panelGrid>
            </d:roundedCornerBox>

        </h:form>

</ui:define>


</ui:composition>
</html>


