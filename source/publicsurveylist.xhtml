<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:d="http://dneero.com/taglib"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">

<ui:composition template="/template/template-facelets.xhtml">
    <ui:define name="title">Survey Opportunities for Bloggers<br/><br/></ui:define>
    <ui:param name="navtab" value="home"/>
    <ui:define name="body">
    <d:authorization acl="public" redirectonfail="true"/>



<h:form>

    <t:saveState id="save" value="#{publicSurveyList}"/>
    <h:outputText value="There are currently no surveys listed.  Please check back soon as we're always adding new ones!" styleClass="mediumfont" rendered="#{empty publicSurveyList.surveys}"/>
    <rich:dataTable value="#{publicSurveyList.surveys}" bandingInterval="2" rows="15" banding="row" var="srvy" rendered="#{!empty publicSurveyList.surveys}">
      <h:column>
        <f:facet name="header">
          <h:outputText value="Title"/>
        </f:facet>
        <h:outputText value="#{srvy.title}" styleClass="mediumfont"/>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="Questions"/>
        </f:facet>
        <h:outputText value="#{srvy.numberofquestions}"/>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="Timing"/>
        </f:facet>
        <h:outputText value="#{srvy.daysuntilend}"/>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="Earn Up To"/>
        </f:facet>
        <h:outputText value="#{srvy.maxearning}" styleClass="mediumfont"/>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="-" style="color: #ffffff;"/>
        </f:facet>
        <h:commandLink action="#{publicSurveyDetail.beginView}">
            <h:outputText value="View" escape="false" styleClass="mediumfont"/>
            <f:param name="surveyid" value="#{srvy.surveyid}" />
        </h:commandLink>
      </h:column>
    </rich:dataTable>


</h:form>

</ui:define>


</ui:composition>
</html>



