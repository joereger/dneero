<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:af="http://xmlns.oracle.com/adf/faces"
      xmlns:d="http://dneero.com/taglib">

<ui:composition template="/template/template-facelets.xhtml">
    <ui:define name="title">Current Surveys<br/><br/></ui:define>
    <ui:param name="navtab" value="home"/>
    <ui:define name="body">
    <d:authorization acl="public" redirectonfail="true"/>



<h:form>


    <af:outputText value="There are currently no surveys listed.  Please check back soon as we're always adding new ones!" styleClass="mediumfont" rendered="#{empty publicSurveyList.surveys}"/>
    <af:table value="#{publicSurveyList.surveys}" bandingInterval="2" rows="15" banding="row" var="srvy" rendered="#{!empty publicSurveyList.surveys}">
      <af:column rendered="false">
        <f:facet name="header">
          <af:outputText value="Id"/>
        </f:facet>
        <af:outputText value="#{srvy.surveyid}"/>
      </af:column>
      <af:column>
        <f:facet name="header">
          <af:outputText value="Title"/>
        </f:facet>
        <af:outputText value="#{srvy.title}" styleClass="mediumfont"/>
      </af:column>
      <af:column>
        <f:facet name="header">
          <af:outputText value="Questions"/>
        </f:facet>
        <af:outputText value="#{srvy.numberofquestions}"/>
      </af:column>
      <af:column>
        <f:facet name="header">
          <af:outputText value="Timing"/>
        </f:facet>
        <af:outputText value="#{srvy.daysuntilend}"/>
      </af:column>
      <af:column>
        <f:facet name="header">
          <af:outputText value="Earn Up To"/>
        </f:facet>
        <af:outputText value="#{srvy.maxearning}" styleClass="mediumfont"/>
      </af:column>
      <af:column>
        <f:facet name="header">
          <af:outputText value=" "/>
        </f:facet>
        <h:commandLink action="#{publicSurveyDetail.beginView}">
            <h:outputText value="View" escape="false" styleClass="mediumfont"/>
            <f:param name="surveyid" value="#{srvy.surveyid}" />
        </h:commandLink>
      </af:column>
    </af:table>


</h:form>

</ui:define>


</ui:composition>
</html>



